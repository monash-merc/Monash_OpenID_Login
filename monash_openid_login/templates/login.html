{% extends "tardis_portal/portal_template.html" %}
{% load static %}
{% block content %}

<h1 class="my-4 text-center">Log In to Store.Monash</h1>

<article class="text-center">
  <h4 class="mt-4">New User</h4>
  <p>Store.Monash will create an account for you automatically upon first login.</p>
  <h4 class="mt-4">Existing User</h4>
  <p>Logging in with the Australian Access Federation (AAF) is our preferred authentication mechanism.</p>
  <section id="loginAAF" class="mt-5">
    <p class="login-text">Log In using your University ID</p>
    <a href="{% url 'social:begin' 'aaf' %}?next=/">
      <img src="{% static 'monash/images/aaf_service.png' %}" width="223" height="54" alt="Log In using your University ID">
    </a>
  </section>
  <p class="mt-5">You can also <a href="javascript:void(0);" id="showAD">login using Monash active directory account</a>.</p>
  <section id="loginAD" class="col-md-4 mx-auto text-center py-4" style="display:none;">
    <img src="{% static 'monash/images/monash-uni-logo.png' %}" width="215" alt="Monash University">
    <form id="ldap" action="" method="post" class="mt-3 justify-content-center">
      <input name="next_page" type="hidden" value="{{ next_page }}">
      {% csrf_token %}
      <div class="row mb-2">
        <div class="col-sm-6 mx-auto">
          <label for="username" class="form-label font-weight-bold">Username</label>
          <input type="text" class="form-control" name="username" maxlength="75" required id="id_username" autocomplete="off" placeholder="DO NOT use your @monash.edu email">
        </div>
      </div>
      <div class="row mb-3 align-items-center">
        <div class="col-sm-6 mx-auto">
          <label for="password" class="col-form-label font-weight-bold">Password</label>
          <input type="password" class="form-control" name="password" required id="id_password" autocomplete="off">
        </div>
      </div>
      <button type="submit" class="btn btn-primary">
        <i class="fa fa-sign-in"></i> Log In
      </button>
    </form>
  </section>
  <p>In case you don't have AAF or Monash AD account, you can <a href="{% url 'social:begin' 'google-oauth2' %}?next=/">login using Google Account</a>,<br>but this will require an additional activation step by administrators.</p>
</article>

<script type="text/javascript">
$(document).ready(
    function(){
        $('#showAD').on('click', function(e) {
            $('#loginAD').slideDown();
        });
    });
</script>

{% endblock content %}
